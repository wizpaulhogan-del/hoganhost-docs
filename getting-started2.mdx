# Getting Started

Welcome to the **HoganHost Cloud API**.  
This guide introduces you to authentication, server creation, and basic lifecycle management using both **cURL** and **PHP** examples.

All API requests require a **Bearer Token** for authentication.  

---

## Authentication

Every request must include your API Key in the `Authorization` header.  

**Base URL:**
```
https://api.hoganhost.com.ng/v1/
```

**Headers:**
```
Authorization: Bearer YOUR_API_KEY
Content-Type: application/json
```

Replace `YOUR_API_KEY` with the key generated in your HoganHost account.  

‚ùå Requests without this token will return:
```json
{
  "error": "Unauthorized",
  "message": "Missing or invalid API key"
}
```

---

## Create a Server

Provision a new cloud server by specifying the region, size, and image.  

### Example Request (cURL)
```bash
curl -X POST "https://api.hoganhost.com.ng/v1/servers.php" -H "Authorization: Bearer YOUR_API_KEY" -H "Content-Type: application/json" -d '{
    "name": "my-server",
    "region": "nyc3",
    "size": "s-1vcpu-1gb",
    "image": "ubuntu-22-04-x64"
}'
```

### Example Request (PHP)
```php
<?php
$apiKey = "YOUR_API_KEY";
$url = "https://api.hoganhost.com.ng/v1/servers.php";

$data = [
    "name"   => "my-server",
    "region" => "nyc3",
    "size"   => "s-1vcpu-1gb",
    "image"  => "ubuntu-22-04-x64"
];

$ch = curl_init($url);
curl_setopt($ch, CURLOPT_HTTPHEADER, [
    "Authorization: Bearer $apiKey",
    "Content-Type: application/json"
]);
curl_setopt($ch, CURLOPT_POST, true);
curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

$response = curl_exec($ch);
curl_close($ch);

echo $response;
?>
```

### Example Response
```json
{
  "id": "12345",
  "name": "my-server",
  "region": "nyc3",
  "size": "s-1vcpu-1gb",
  "image": "ubuntu-22-04-x64",
  "ip_address": "203.0.113.10",
  "status": "provisioning"
}
```

---

## Get Server Information

Retrieve details about an existing server.  

### Example Request (cURL)
```bash
curl -X GET "https://api.hoganhost.com.ng/v1/servers.php?id=SERVER_ID" -H "Authorization: Bearer YOUR_API_KEY"
```

### Example Request (PHP)
```php
<?php
$apiKey = "YOUR_API_KEY";
$serverId = "SERVER_ID";
$url = "https://api.hoganhost.com.ng/v1/servers.php?id=$serverId";

$ch = curl_init($url);
curl_setopt($ch, CURLOPT_HTTPHEADER, [
    "Authorization: Bearer $apiKey"
]);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

$response = curl_exec($ch);
curl_close($ch);

echo $response;
?>
```

### Example Response
```json
{
  "id": "12345",
  "name": "my-server",
  "region": "nyc3",
  "size": "s-1vcpu-1gb",
  "image": "ubuntu-22-04-x64",
  "ip_address": "203.0.113.10",
  "status": "active",
  "power_state": "on",
  "created_at": "2025-09-29T10:00:00Z"
}
```

---

## Delete a Server

Permanently remove a server and all its data.  
‚ö†Ô∏è This action is irreversible.  

### Example Request (cURL)
```bash
curl -X DELETE "https://api.hoganhost.com.ng/v1/servers.php?id=SERVER_ID" -H "Authorization: Bearer YOUR_API_KEY"
```

### Example Request (PHP)
```php
<?php
$apiKey = "YOUR_API_KEY";
$serverId = "SERVER_ID";
$url = "https://api.hoganhost.com.ng/v1/servers.php?id=$serverId";

$ch = curl_init($url);
curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "DELETE");
curl_setopt($ch, CURLOPT_HTTPHEADER, [
    "Authorization: Bearer $apiKey"
]);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

$response = curl_exec($ch);
curl_close($ch);

echo $response;
?>
```

### Example Response
```json
{
  "id": "12345",
  "status": "deleted",
  "message": "Server and all data permanently removed"
}
```

---

## Best Practices

- ‚úÖ Always perform a **graceful shutdown** before running `power_off` or `delete`.  
- üîÑ Use **reboot** for planned updates, not for recovery from major failures.  
- üìù Keep track of `SERVER_ID` values returned during creation.  
- üîê Rotate and protect your API keys.  
